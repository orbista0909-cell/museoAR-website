<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Museo It Akean</title>
<link rel="shortcut icon" href="provinceofaklan.jpeg" type="image/x-icon">
<script src="https://unpkg.com/html5-qrcode"></script>
<style>
  body { font-family: Arial, sans-serif; margin: 0; background: #fff; height: 100vh; overflow: hidden; }

  /* HEADER */
  header {
    background: #ddd;
    padding: 10px;
    display: flex;
    align-items: center;
    gap: 10px;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    z-index: 20;
    justify-content: center;
  }
  header img { height: 40px; }
  header h1 { margin: 0; font-size: 18px; }
  header p { margin: 0; font-size: 12px; }

  /* PAGE SYSTEM */
  .page { display: none; height: 100%; padding-top: 60px; /* header height */ overflow: hidden; position: absolute; top:0; left:0; width: 100%; background:#fff; }
  .active { display: block; }

  /* BUTTONS */
  button { padding: 8px 12px; border-radius: 8px; cursor: pointer; }
  .btn {
    display: block;
    width: 200px;
    margin: 15px auto;
    padding: 12px;
    background: #ddd;
    border: 2px solid transparent;
    border-radius: 4px;
    cursor: pointer;
    font-size: 16px;
  }
  .btn:focus, .btn.active { border: 2px solid #3b73e0; }

  /* BACK ARROW */
  .back-arrow {
    font-size: 24px;
    cursor: pointer;
    position: absolute;
    top: 70px; /* Below fixed header */
    left: 15px;
    background: #ddd;
    padding: 6px 12px;
    border-radius: 50%;
    user-select: none;
    transition: background 0.3s;
    z-index: 15;
  }
  .back-arrow:hover { background: #bbb; }

  /* SCROLLABLE CONTENT */
  .scrollable { height: 100%; overflow-y: auto; -webkit-overflow-scrolling: touch; padding: 10px; }

  /* GALLERY */
  .gallery {
    display: flex;
    flex-direction: column;
    gap: 20px;
    align-items: center;
  }
  .gallery-item img {
    width: 250px;
    height: 250px;
    object-fit: cover;
    border-radius: 6px;
    border: 2px solid #ccc;
    cursor: pointer;
  }
  .gallery-item p { margin-top: 8px; font-size: 15px; }

  /* ABOUT PAGE */
  .about-title {
    background: #fff;
    padding: 15px;
    font-size: 22px;
    font-weight: bold;
    position: sticky;
    top: 0;
    z-index: 10;
    border-bottom: 2px solid #ccc;
    text-align: center;
  }
  .about-content img { max-width: 100%; display: block; margin: 10px auto; border-radius: 6px; }

  #reader { width: 100%; max-width: 350px; margin: 20px auto; }
  #scan-result { text-align: center; margin-top: 15px; font-weight: bold; }
</style>
</head>
<body>

<header>
  <img src="provinceofaklan.jpeg" alt="Museo Logo">
  <div class="center-container">
    <h1>Museo It Akean</h1>
    <p>Province of Aklan</p>
  </div>
</header>

<!-- DASHBOARD -->
<div id="dashboard" class="page active">
    <h2 style="text-align:center;">Dashboard</h2>
    <button class="btn" onclick="showPage('gallery')">Museum Content</button>
    <button class="btn" onclick="showPage('about')">About</button>
  </div>
</div>

<!-- ABOUT -->
<div id="about" class="page">
  <div class="scrollable">
    <h2 class="about-title">About</h2>
    <div class="about-content">
      <p>An AR museum uses augmented reality (AR) technology to create an interactive experience
      by overlaying digital content onto the physical world, allowing museums to offer dynamic
      and engaging displays that blend real and virtual elements.</p>
      <p>This approach allows for unique experiences that traditional exhibits cannot provide,
      using smartphones or tablets to enhance collections and provide interactive learning.</p>
      <div class="back-arrow" onclick="showPage('dashboard')">←</div>

      <h2 style="text-align:center;">How to use the application</h2>
      <div class="step"><p>1. Go to Museum Content and press.</p><img src="step 1.png" alt="Step 1"></div>
      <div class="step"><p>2. Select the gallery you want to choose and press.</p><img src="step 2.png" alt="Step 2"></div>
      <div class="step"><p>3. Choose any content you prefer and press.</p><img src="step 3.png" alt="Painting"></div>
      <div class="step"><p>4. Press the QR Camera Scanner icon.</p><img src="step 4.png" alt="QR Scanner"></div>
      <div class="step"><p>5. Scan the QR code located at the Aklan Museum.</p><img src="step 5.png" alt="QR 1"></div>
      <div class="step"><p>6. Wait until the link appears, then click it.</p><img src="step 6.png" alt="QR 2"></div>
      <div class="step"><p>7. Enjoy the artifact details, description, and audio.</p><img src="qr3.png" alt="QR 3"></div>

      <button class="btn" onclick="showPage('gallery')">Museum Contents</button>
    </div>
  </div>
</div>

<!-- GALLERY MENU -->
<div id="gallery" class="page">
  <div class="scrollable">
    <div class="back-arrow" onclick="showPage('dashboard')">←</div>
    <h2 style="text-align:center;">Museum Contents</h2>
    <button class="btn" onclick="showPage('paintings')">Painting Gallery</button>
    <button class="btn" onclick="showPage('artifacts')">Artifacts Gallery</button>
  </div>
</div>

<!-- PAINTINGS GALLERY -->
<div id="paintings" class="page">
  <div class="scrollable">
    <div class="back-arrow" onclick="showPage('gallery')">←</div>
    <h2 style="text-align:center;">Painting Exhibit</h2>
    <div class="gallery">
      <div class="gallery-item" onclick="goToScanner('painting1')">
        <img src="painting of Mr & Mrs Ramos.jpg" alt="Painting 1"><p>Painting of Mr&Mrs Ramos</p>
      </div>
      <div class="gallery-item" onclick="goToScanner('painting2')">
        <img src="painting2.jpg" alt="Painting 2"><p>Festival Dance</p>
      </div>
    </div>
  </div>
</div>

<!-- ARTIFACTS GALLERY -->
<div id="artifacts" class="page">
  <div class="scrollable">
    <div class="back-arrow" onclick="showPage('gallery')">←</div>
    <h2 style="text-align:center;">Artifacts Exhibit</h2>
    <div class="gallery">
      <div class="gallery-item" onclick="goToScanner('artifact1')">
        <img src="jar.jpeg" alt="Artifact 1"><p>Jar</p>
      </div>
        <div class="gallery-item" onclick="goToScanner('artifact2')">
        <img src="talibong.jpeg" alt="Artifact 2"><p>Talibong</p>
      </div>
    </div>
  </div>
</div>

<!-- QR SCANNER PAGE -->
<div id="scanner" class="page">
  <div class="scrollable">
    <div class="back-arrow" onclick="showPage('gallery')">←</div>
    <h2 style="text-align:center;">QR Camera Scanner</h2>
    <div id="reader"></div>
    <div id="scan-result">Scan a QR code...</div>
  </div>
</div>

<script>
let html5QrCodeInstance = null;

function showPage(id) {
  document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  if (id === 'scanner') startScanner();
  else stopScanner();
}

function goToScanner(itemId) {
  showPage('scanner');
}

function startScanner() {
  if (html5QrCodeInstance) return;
  html5QrCodeInstance = new Html5Qrcode("reader");
  Html5Qrcode.getCameras().then(devices => {
    if (devices && devices.length) {
      const backCam = devices.find(d => d.label.toLowerCase().includes("back"));
      const camId = backCam ? backCam.id : devices[0].id;
      html5QrCodeInstance.start(camId, { fps: 10, qrbox: 200 }, qrSuccess);
    }
  }).catch(err => {
    document.getElementById("scan-result").innerText = "Camera error: " + err;
  });
}

function stopScanner() {
  if (html5QrCodeInstance) {
    html5QrCodeInstance.stop().then(() => {
      html5QrCodeInstance.clear();
      html5QrCodeInstance = null;
      document.getElementById("reader").innerHTML = "";
    }).catch(err => console.error(err));
  }
}

function qrSuccess(decodedText) {
  stopScanner();
  document.getElementById("scan-result").innerHTML =
    `<a href="${decodedText}" target="_blank">${decodedText}</a>`;
  window.open(decodedText, "_blank");
}
</script>

</body>

</html>

